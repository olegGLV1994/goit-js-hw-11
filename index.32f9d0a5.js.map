{"mappings":"IAWAA,EAAe,C,SARf,SAAkBC,GAChB,OAAOC,MACL,qEAA2BD,gFAC3BE,MAAKC,GACEA,EAASC,Q,GCLpB,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,gBAC7BC,OAAQF,SAASC,cAAc,cAC/BE,QAASH,SAASC,cAAc,aAGlCH,EAAKC,KAAKK,iBAAiB,UAI3B,SAAoBC,GAClBA,EAAEC,iBACFC,EAAOF,EAAEG,cAAcC,SAASC,YAAYC,MAE5CnB,EAAMoB,SAASL,GAAMZ,KAAKkB,GAAgBC,MAAMC,E,IAPlDjB,EAAKI,OAAOE,iBAAiB,SAU7B,WACEZ,EAAMoB,SAASL,GAAMZ,KAAKkB,GAAgBC,MAAMC,E,IATlD,IAAIR,EAAO,GAYX,SAASM,EAAeG,GACtB,MAAMC,EAAOD,EAAWE,KAAKC,IAAIC,GAAQC,KAAK,IAC9CvB,EAAKK,QAAQmB,UAAYL,C,CAG3B,SAASF,EAAaQ,GACpBC,QAAQC,IAAIF,E,CAEd,SAASH,EAAOM,GACd,MAAMC,aAAEA,EAAYC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,GAAcN,EAClE,MAAO,6CAEKC,WAAsBC,+GAGdC,+DAGAC,mEAGGC,mEAGCC,mC","sources":["src/fetch-img.js","src/index.js"],"sourcesContent":["const API_KEY = '30832093-18366edc5a2dfa9c956b24a6c';\nconst URL = 'https://pixabay.com/api/';\n\nfunction fetchImg(word) {\n  return fetch(\n    `${URL}?key=${API_KEY}&q=${word}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=1`\n  ).then(response => {\n    return response.json();\n  });\n}\n\nexport default { fetchImg };\n\n// export default class FetchImg {\n//   constructor() {\n//     this.page = 1;\n//     this.word = '';\n//   }\n//   fetchImg(word) {\n//     return fetch(\n//       `${URL}?key=${API_KEY}&q=${word}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=1`\n//     ).then(response => {\n//       return response.json();\n//     });\n//   }\n// }\n","import FETCH from './fetch-img';\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  button: document.querySelector('.load-more'),\n  gallery: document.querySelector('.gallery'),\n};\n\nrefs.form.addEventListener('submit', searchForm);\nrefs.button.addEventListener('click', onFetchClick);\n\nlet word = '';\nfunction searchForm(e) {\n  e.preventDefault();\n  word = e.currentTarget.elements.searchQuery.value;\n\n  FETCH.fetchImg(word).then(onFetchResolve).catch(onFetchError);\n}\n\nfunction onFetchClick() {\n  FETCH.fetchImg(word).then(onFetchResolve).catch(onFetchError);\n}\n\nfunction onFetchResolve(photoCards) {\n  const card = photoCards.hits.map(markup).join('');\n  refs.gallery.innerHTML = card;\n}\n\nfunction onFetchError(error) {\n  console.log(error);\n}\nfunction markup(status) {\n  const { webformatURL, tags, likes, views, comments, downloads } = status;\n  return `\n  <div class=\"photo-card\">\n  <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" class='img-card' />\n  <div class=\"info\">\n    <p class=\"info-item\">\n      <b>Likes:</b> ${likes}\n    </p>\n    <p class=\"info-item\">\n      <b>Views:</b> ${views} \n    </p>\n    <p class=\"info-item\">\n      <b>Comments:</b> ${comments}\n    </p>\n    <p class=\"info-item\">\n      <b>Downloads:</b> ${downloads}\n    </p>\n  </div>\n</div>\n  `;\n}\n"],"names":["$f64e535f1f19b4ad$export$2e2bcd8739ae039","word","fetch","then","response","json","$1f0dc3b9307be026$var$refs","form","document","querySelector","button","gallery","addEventListener","e","preventDefault","$1f0dc3b9307be026$var$word","currentTarget","elements","searchQuery","value","fetchImg","$1f0dc3b9307be026$var$onFetchResolve","catch","$1f0dc3b9307be026$var$onFetchError","photoCards","card","hits","map","$1f0dc3b9307be026$var$markup","join","innerHTML","error","console","log","status","webformatURL","tags","likes","views","comments","downloads"],"version":3,"file":"index.32f9d0a5.js.map"}